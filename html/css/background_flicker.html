<!DOCTYPE html>
<html>
   <head>
      <meta charset='utf-8'>
      <meta http-equiv="X-UA-Compatible" content="chrome=1">
      <meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
      <meta name="description" content="ios微信上点击元素背景会闪烁一下,原因是移动端的点击反应速度要比PC端延迟300毫秒.">
      <meta name="keywords" content="吴杨杨,个人博客,ios微信上点击元素背景会闪烁一下,css,tap,tgwuyangyang.github.io">
      <LINK href="../../images/wu.ico" type="img/x-icon" rel=icon>
      <link rel="stylesheet" type="text/css" href="../../css/stylesheet.css" media="screen">
      <link rel="stylesheet" type="text/css" href="../../css/html/content.css">
      <title>吴杨杨的个人博客</title>
   </head>

   <body>
      <div id="container">
         <div class="inner">
            <header>
               <h1>Tgwuyangyang.GitHub.com</h1>
            </header>
            <hr>
            <p class="title"><span>ios微信上点击元素背景会闪烁一下</span></p>
            <hr>
            <section id="main_content">
               <p class="author">
                  <span>作者：吴杨杨</span>
                  <a class="back" href="../../index.html">返回首页</a>
               </p>
               <p class="time"><span>时间：2016-08-25</span></p>
               <p>最近没事拿手机访问自己的博客时，发现点击菜单和a标签的链接，背景会闪烁一下。</p>
               <p>查了下资料，原因是移动端的点击反应速度要比PC端延迟300毫秒。</p>
               <p>关于300毫秒的延迟详细信息请点击<a href="http://thx.github.io/mobile/300ms-click-delay">http://thx.github.io/mobile/300ms-click-delay</a></p>
               <p>好吧，以前做webApp时，注意过300毫秒延迟的事情，原以为只是影响到点击会延迟300毫秒，没想到还会对页面样式有影响。</p>
               <p>废话不多说，开始解决问题吧。</p>
               <p>对于使用click事件引起的背景闪烁，可以自己封装tap事件来代替clicl事件，tap事件由touchstart + touchmove + touchend 事件封装组成。我在此博客上的解决方式，我使用的是mui.js的tap事件。</p>
               <pre><code>$(".catalog").delegate("span", "tap", function() {
   var $this = $(this);
   type = $this.attr("type");
   $this.addClass("color").siblings().removeClass("color");

   initName();
});
               </code></pre>
               <p>我解决此问题的js源代码：<a href="https://github.com/tgwuyangyang/tgwuyangyang.github.com/blob/master/js/index.js">https://github.com/tgwuyangyang/tgwuyangyang.github.com/blob/master/js/index.js</a></p>
               <p>我还使用了许多a标签，懒得换成click跳转，所以使用css解决问题，如下：</p>
               <pre><code>a {
   -webkit-user-select: none;
   -webkit-tap-highlight-color: rgba(200,200,200,0);
}
               </code></pre>
               <p>这样处理后，点击a标签就不会发生背景闪烁了。</p>
               <p>我解决此问题的css源代码：<a href="https://github.com/tgwuyangyang/tgwuyangyang.github.com/blob/master/css/index.css">https://github.com/tgwuyangyang/tgwuyangyang.github.com/blob/master/css/index.css</a></p>
               <p>以上。</p>
               <hr>
               <section id="downloads" class="clearfix">
               <a href="../../index.html">返回首页</a>
               <a style="float:right;" href="https://github.com/tgwuyangyang" id="view-on-github" class="button">
                  <span>View on GitHub</span>
               </a>
            </section>
            </section>
            <footer>
               <table class="border-none">
                  <tr>
                     <td class="border-none">
                        This page was generated by <a href="https://pages.github.com">GitHub Pages</a>. Tactile theme by <a href="https://twitter.com/jasonlong">Jason Long</a>.
                     </td>
                  </tr>
               </table>
            </footer>
         </div>
      </div>
      <script src="../../js/jquery-2.1.4.min.js" type="text/javascript" charset="utf-8"></script>
   </body>
</html>
